@model NewsCommunication
@{
    ViewBag.Title = "The Policy Initiative - Article";
    var controller = ViewContext.RouteData.Values["controller"].ToString().ToLower();
    var action = ViewContext.RouteData.Values["action"].ToString().ToLower();
    ViewBag.BodyAttributes = "class=articlePage";


}


<div class="searchBtn formobile"><svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 25.961 25.966"><path d="M25.608,22.449l-5.056-5.056a1.216,1.216,0,0,0-.862-.355h-.827a10.543,10.543,0,1,0-1.826,1.826v.827a1.216,1.216,0,0,0,.355.862l5.056,5.056a1.212,1.212,0,0,0,1.719,0L25.6,24.173a1.223,1.223,0,0,0,.005-1.724ZM10.548,17.038a6.491,6.491,0,1,1,6.491-6.491A6.487,6.487,0,0,1,10.548,17.038Z" fill="#070606" /></svg></div>


<div class="Options">
    <div class="container">
        <ul class="items">
            @if (ViewBag.language == "en")
            {
                <li><a href="@Url.Content(ViewBag.metas.canonicalUrl+"?lang=ar")" class="lang ar">عربي</a></li>
            }
            else
            {
                <li><a href="@Url.Content(ViewBag.metas.canonicalUrl+"?lang=en")" class="lang">eng</a></li>

            }

            @if (!String.IsNullOrEmpty(Model.fileSrc))
            {
                <li><a href="@Url.Content(Model.fileSrc)" target="_blank" class="download"><svg xmlns="http://www.w3.org/2000/svg" width="41.7" height="45.196" viewBox="0 0 41.7 45.196"><g transform="translate(-184.338 -119.77)"><path d="M0,0H20.9a4.254,4.254,0,0,1,4.254,4.254V10.24A4.254,4.254,0,0,1,20.9,14.494H0a0,0,0,0,1,0,0V0A0,0,0,0,1,0,0Z" transform="translate(185.57 126.891)" fill="#e75451" /><g transform="translate(189.028 130.928)"><path d="M190.622,135.267H188.81v1.886H187.6v-6.409c1.007,0,2.015-.01,3.022-.01A2.268,2.268,0,1,1,190.622,135.267Zm-1.813-1.107h1.813a1.136,1.136,0,1,0,0-2.271H188.81Z" transform="translate(-187.6 -130.734)" fill="#fff" /><path d="M196.907,133.89a3.035,3.035,0,0,1-3.2,3.259h-2.518V130.74H193.7A3.027,3.027,0,0,1,196.907,133.89Zm-4.523,2.1H193.7a2.051,2.051,0,0,0,0-4.1h-1.319Z" transform="translate(-185.078 -130.73)" fill="#fff" /><path d="M195.124,137.145v-6.4h4.6v1.164h-3.4v1.748h3.215v1.118h-3.215v2.371Z" transform="translate(-182.306 -130.726)" fill="#fff" /></g><g transform="translate(185.838 121.27)"><rect width="33.918" height="42.196" rx="3" fill="none" stroke="#0a0a0a" stroke-width="3" /></g><path d="M209.05,148.993H189.638a.705.705,0,0,0-.7.7h0a.706.706,0,0,0,.7.7H209.05a.706.706,0,0,0,.7-.7h0A.705.705,0,0,0,209.05,148.993Z" transform="translate(0.973 8.018)" fill="#040505" /><path d="M209.05,143.156H189.638a.706.706,0,0,0-.7.7h0a.705.705,0,0,0,.7.7H209.05a.705.705,0,0,0,.7-.7h0A.706.706,0,0,0,209.05,143.156Z" transform="translate(0.973 6.33)" fill="#040505" /><path d="M209.05,146.074H189.638a.706.706,0,0,0-.7.7h0a.705.705,0,0,0,.7.7H209.05a.705.705,0,0,0,.7-.7h0A.706.706,0,0,0,209.05,146.074Z" transform="translate(0.973 7.174)" fill="#040505" /><path d="M209.05,140.238H189.638a.705.705,0,0,0-.7.7h0a.706.706,0,0,0,.7.7H209.05a.706.706,0,0,0,.7-.7h0A.705.705,0,0,0,209.05,140.238Z" transform="translate(0.973 5.486)" fill="#040505" /><g transform="translate(215.29 141.589)"><path d="M213.966,138.663h-4.622V127.334a2.4,2.4,0,0,1,2.311-2.487h0a2.4,2.4,0,0,1,2.311,2.487Z" transform="translate(-206.278 -124.847)" fill="#e75451" /><path d="M212.01,141.093l-3.768-5.057a1.5,1.5,0,0,1,1.2-2.4h7.738a1.5,1.5,0,0,1,1.181,2.428l-3.97,5.057A1.5,1.5,0,0,1,212.01,141.093Z" transform="translate(-207.942 -123.852)" fill="#e75451" /></g></g></svg></a></li>

            }
            <li>
                <ul class="medias">
                    <li><div class="label">share</div></li>
                    <li>
                        <div class="addthis-smartlayers addthis-smartlayers-desktop"></div>
                    </li>

                    @*<li><a href="" class="facebook"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="29" viewBox="0 0 28 29"><g transform="translate(0 0)"><rect width="28" height="28.63" rx="3" transform="translate(0 0)" /><path d="M103.944,45.578V56.052a.277.277,0,0,0,.277.277h3.888a.277.277,0,0,0,.277-.277h0V45.4h2.82a.269.269,0,0,0,.271-.246l.275-3.21a.276.276,0,0,0-.256-.3h-3.11V39.377a.962.962,0,0,1,.963-.965h2.174a.277.277,0,0,0,.277-.277h0v-3.2a.277.277,0,0,0-.277-.277h-3.67a3.9,3.9,0,0,0-3.9,3.9V41.65h-1.945a.276.276,0,0,0-.277.275h0v3.21a.276.276,0,0,0,.277.271h1.945Z" transform="translate(-92.926 -27.329)" fill="#fff" fill-rule="evenodd" /></g></svg></a></li>
                        <li><a href="" class="twitter"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><rect width="28" height="28" rx="3" /><path d="M114,55.684c.009.141.009.285.009.428a9.139,9.139,0,0,1-8.874,9.381h-.121a8.71,8.71,0,0,1-4.856-1.475,6.35,6.35,0,0,0,.762.04,6.17,6.17,0,0,0,3.923-1.408,3.184,3.184,0,0,1-2.956-2.287,3.274,3.274,0,0,0,1.427-.059,3.266,3.266,0,0,1-2.531-3.238v-.048a3.046,3.046,0,0,0,1.427.418,3.333,3.333,0,0,1-1.409-2.743,3.391,3.391,0,0,1,.429-1.664,8.867,8.867,0,0,0,6.52,3.448,3.311,3.311,0,0,1,2.367-3.966,3.086,3.086,0,0,1,3.027.955,6.067,6.067,0,0,0,2.006-.795,3.279,3.279,0,0,1-1.387,1.817,6.084,6.084,0,0,0,1.821-.512A6.836,6.836,0,0,1,114,55.684Z" transform="translate(-93.868 -44.959)" fill="#fff" /></svg></a></li>
                        <li><a href="" class="mail"><svg xmlns="http://www.w3.org/2000/svg" width="28.248" height="28.129" viewBox="0 0 28.248 28.129"><g transform="translate(0.248 0.005)"><rect width="28" height="28" rx="3" transform="translate(0 0.124)" /><path d="M158.914,31.389,146.262,44.541,133.611,31.389" transform="translate(-132.445 -29.98)" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" fill-rule="evenodd" /></g></svg></a></li>*@

                </ul>
            </li>

            <li><div class="searchBtn"><svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 25.961 25.966"><path d="M25.608,22.449l-5.056-5.056a1.216,1.216,0,0,0-.862-.355h-.827a10.543,10.543,0,1,0-1.826,1.826v.827a1.216,1.216,0,0,0,.355.862l5.056,5.056a1.212,1.212,0,0,0,1.719,0L25.6,24.173a1.223,1.223,0,0,0,.005-1.724ZM10.548,17.038a6.491,6.491,0,1,1,6.491-6.491A6.487,6.487,0,0,1,10.548,17.038Z" fill="#070606" /></svg></div></li>
            <li>
                <div class="mailboxBtn"><svg xmlns="http://www.w3.org/2000/svg" width="33" height="30" viewBox="0 0 32.75 29.75"><g transform="translate(-47.25 -297.25)"><g transform="translate(0 10)"><g transform="translate(3.268 -15.052)"><rect width="25" height="25" rx="0.5" transform="translate(44.732 303.052)" fill="none" stroke="#040405" stroke-width="1.5" /></g></g><g transform="translate(-91.847 111.179)"><circle cx="7.5" cy="7.5" r="7.5" transform="translate(156.847 200.821)" fill="#070708" /><path d="M168.47,209.377h-3.013v2.944h-2.234v-2.944h-3v-2.112h3v-2.944h2.234v2.944h3.013Z" fill="#fff" /></g></g></svg></div>
                @{Html.RenderPartial("newsletterPop");}
            </li>
        </ul>
    </div>
</div>


<div class="Article @(( ViewBag.language == "ar") ? "arabic" : "")">
    <div class="container">


        @if (!String.IsNullOrEmpty(Model.Date))
        {
            <div class="date">@Model.Date</div>
        }
        @if (!String.IsNullOrEmpty(Model.title))
        {
            <h1 class="title">@Model.title </h1>
        }
        @if (!String.IsNullOrEmpty(Model.subtitle))
        {
            <h2 class="subtitle">@Model.subtitle </h2>
        }

        @{ int comaCount = 0;}
        @foreach (var item in Model.authors)
        {
            if (Model.authors.Count == 1)
            {
                <div class="author">@item.title</div>
            }
            else
            {
                <div class="author">@item.title</div>
            }
            comaCount++;
            if (Model.authors.Count > comaCount)
            {
                <text> ,</text>

            }

        }
        <div class="seperator"></div>
        @if (!String.IsNullOrEmpty(Model.description))
        {
            <div class="text">
                @Html.Raw(Model.description)
            </div>
        }

        @foreach (var item in Model.arcticlesRepeater)
        {
            <div class="picDiv withcaption">

                <!-- if pic have caption add this class "withcaption "-->
                @if (item.images != null)
                {
                    foreach (var sub in item.images)
                    {<div class="item">
                            @if (ViewBag.language == "en")
                            {
                                if (!String.IsNullOrEmpty(sub.caption))
                                {<div class="pic"><img src="@Url.Content(sub.imgSrc)" alt="@sub.caption" /></div>
                                    <div class="captionPic">@sub.caption</div>

                                }
                            }
                            else
                            {
                                if (!String.IsNullOrEmpty(sub.subCaption))
                                {
                                    <div class="pic"><img src="@Url.Content(sub.imgSrc)" alt="@sub.subCaption" /></div>
                                    <div class="captionPic">@sub.subCaption</div>

                                }
                                else
                                {
                                    if (!String.IsNullOrEmpty(sub.caption))
                                    {
                                        <div class="pic"><img src="@Url.Content(sub.imgSrc)" alt="@sub.caption" /></div>
                                        <div class="captionPic">@sub.caption</div>

                                    }
                                    else
                                    {
                                        <div class="pic"><img src="@Url.Content(sub.imgSrc)" alt="@item.title" /></div>

                                    }
                                }
                            }

                        </div>
                    }

                }

            </div>
            if (ViewBag.language == "en")
            {
                if (!String.IsNullOrEmpty(item.Description))
                {
                    <div class="text">
                        <p>@Html.Raw(item.Description) </p>
                    </div>
                }
                else
                { <br /><br />}
            }
            else
            {
                if (!String.IsNullOrEmpty(item.ArabicDescription))
                {
                    <div class="text">
                        <p>@Html.Raw(item.ArabicDescription) </p>
                    </div>
                }
                else
                { <br /><br />}
            }
        }



        @if (!String.IsNullOrEmpty(Model.DetailsImage))
        {
            <div class="picDiv withcaption">
                <!-- if pic have caption add this class "withcaption "-->
                <div class="item">
                    @if (!String.IsNullOrEmpty(Model.imgSubCaption))
                    {
                        <div class="pic"><img src="@Url.Content(Model.DetailsImage)" alt="@Model.imgSubCaption" /></div>

                        <div class="captionPic">@Model.imgSubCaption</div>

                    }
                    else
                    {
                        <div class="pic"><img src="@Url.Content(Model.DetailsImage)" alt="@Model.title" /></div>
                    }
                </div>
            </div>
        }

        @*@if (!String.IsNullOrEmpty(Model.description2))
            {
                <div class="text">
                    @Html.Raw(Model.description2)
                </div>
            }*@


        @if (!String.IsNullOrEmpty(Model.quote))
        {
            <div class="quote">
                <div class="holder">
                    @Model.quote
                </div>
            </div>
        }
        @*@if (!String.IsNullOrEmpty(Model.description3))
            {
                <div class="text">
                    @Html.Raw(Model.description3)
                </div>
            }*@
        @if (!String.IsNullOrEmpty(Model.note))
        {
            <div class="note">
                @Html.Raw(Model.note)
            </div>
        }
        @if (ViewBag.settings.showTwitter == true)
        {
            { Html.RenderPartial("twitterBox"); }
        }
    </div>

</div>

<div class="swipersholder animation-element">
    @if (Model.relatedarticles.Count != 0)
    {
        <div class="itemSwiper ">
            <div class="container">
                <div class="top">
                    <h2 class="name">From the same author</h2>
                    <a class="all">view all</a>
                </div>
                <div class="wrap">
                    <div class="screen">
                        <ul class="swiper-wrapper">
                            @foreach (var item in Model.relatedarticles)
                            {
                                <li class="swiper-slide">
                                    @if (!item.hasArabic)
                                    {
                                        <a class="item" href="@Url.Content(item.detailUrl)">
                                            @if (!String.IsNullOrEmpty(item.Date))
                                            {
                                                <div class="date">@item.Date</div>

                                            }
                                            @if (!String.IsNullOrEmpty(item.title))
                                            {
                                                <h3 class="title">@item.title</h3>
                                            }
                                            @foreach (var sub in item.authors)
                                            {
                                                <div class="author"> @sub.title</div>
                                            }
                                            @if (!String.IsNullOrEmpty(item.smallDescription))
                                            {
                                                <div class="text">
                                                    @Html.Raw(item.smallDescription) <span class="more">read</span>
                                                </div>
                                            }


                                        </a>
                                    }
                                    else
                                    { <a class="item" href="@Url.Content(item.detailUrl+"?lang=ar")">
                                            @if (!String.IsNullOrEmpty(item.Date))
                                            {
                                                <div class="date">@item.Date</div>

                                            }
                                            @if (!String.IsNullOrEmpty(item.title))
                                            {
                                                <h3 class="title">@item.title</h3>
                                            }
                                            @foreach (var sub in item.authors)
                                            {
                                                <div class="author"> @sub.title</div>
                                            }
                                            @if (!String.IsNullOrEmpty(item.smallDescription))
                                            {
                                                <div class="text">
                                                    @Html.Raw(item.smallDescription) <span class="more">read</span>
                                                </div>
                                            }


                                        </a>
                                    }

                                </li>
                            }

                        </ul>
                    </div>
                </div>
                <div class="prev"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><g transform="translate(-1253 -648)"><g transform="translate(97 275)"><g transform="translate(1156 373)" fill="none" stroke="#080808" stroke-width="1"><circle cx="24" cy="24" r="24" stroke="none" /><circle cx="24" cy="24" r="23.5" fill="none" /></g><g transform="translate(1)"><path d="M51.949,282.844l7.77,7.77-7.77,7.77" transform="translate(1128.042 106.656)" fill="none" stroke="#080808" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" /><path d="M1032.806,389h-15.8" transform="translate(152.991 8.5)" fill="none" stroke="#080808" stroke-linecap="round" stroke-width="2" /></g></g></g></svg></div>
                <div class="next"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><g transform="translate(-1253 -648)"><g transform="translate(97 275)"><g transform="translate(1156 373)" fill="none" stroke="#080808" stroke-width="1"><circle cx="24" cy="24" r="24" stroke="none" /><circle cx="24" cy="24" r="23.5" fill="none" /></g><g transform="translate(1)"><path d="M51.949,282.844l7.77,7.77-7.77,7.77" transform="translate(1128.042 106.656)" fill="none" stroke="#080808" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" /><path d="M1032.806,389h-15.8" transform="translate(152.991 8.5)" fill="none" stroke="#080808" stroke-linecap="round" stroke-width="2" /></g></g></g></svg></div>
            </div>
        </div>
    }
    @if (Model.relatedperiodicals.Count != 0)
    {
        <div class="itemSwiper ">
            <div class="container">
                <div class="top">
                    <h2 class="name">More periodicals</h2>
                    <a class="all">view all</a>
                </div>
                <div class="wrap">
                    <div class="screen">
                        <ul class="swiper-wrapper">
                            @foreach (var item in Model.relatedperiodicals)
                            {
                                <li class="swiper-slide">
                                    @if (!item.hasArabic)
                                    {
                                        <a class="item" href="@Url.Content(item.detailUrl)">
                                            @if (!String.IsNullOrEmpty(item.Date))
                                            {
                                                <div class="date">@item.Date</div>

                                            }
                                            @if (!String.IsNullOrEmpty(item.title))
                                            {
                                                <h3 class="title">@item.title</h3>
                                            }
                                            @foreach (var sub in item.authors)
                                            {
                                                <div class="author">by @sub.title</div>
                                            }
                                            @if (!String.IsNullOrEmpty(item.smallDescription))
                                            {
                                                <div class="text">
                                                    @Html.Raw(item.smallDescription) <span class="more">read</span>
                                                </div>
                                            }


                                        </a>
                                    }
                                    else
                                    {

                                        <a class="item" href="@Url.Content(item.detailUrl+"?lang=ar")">
                                            @if (!String.IsNullOrEmpty(item.Date))
                                            {
                                                <div class="date">@item.Date</div>

                                            }
                                            @if (!String.IsNullOrEmpty(item.title))
                                            {
                                                <h3 class="title">@item.title</h3>
                                            }
                                            @foreach (var sub in item.authors)
                                            {
                                                <div class="author">by @sub.title</div>
                                            }
                                            @if (!String.IsNullOrEmpty(item.smallDescription))
                                            {
                                                <div class="text">
                                                    @Html.Raw(item.smallDescription) <span class="more">read</span>
                                                </div>
                                            }


                                        </a>
                                    }

                                </li>
                            }

                        </ul>
                    </div>
                </div>
                <div class="prev"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><g transform="translate(-1253 -648)"><g transform="translate(97 275)"><g transform="translate(1156 373)" fill="none" stroke="#080808" stroke-width="1"><circle cx="24" cy="24" r="24" stroke="none" /><circle cx="24" cy="24" r="23.5" fill="none" /></g><g transform="translate(1)"><path d="M51.949,282.844l7.77,7.77-7.77,7.77" transform="translate(1128.042 106.656)" fill="none" stroke="#080808" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" /><path d="M1032.806,389h-15.8" transform="translate(152.991 8.5)" fill="none" stroke="#080808" stroke-linecap="round" stroke-width="2" /></g></g></g></svg></div>
                <div class="next"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><g transform="translate(-1253 -648)"><g transform="translate(97 275)"><g transform="translate(1156 373)" fill="none" stroke="#080808" stroke-width="1"><circle cx="24" cy="24" r="24" stroke="none" /><circle cx="24" cy="24" r="23.5" fill="none" /></g><g transform="translate(1)"><path d="M51.949,282.844l7.77,7.77-7.77,7.77" transform="translate(1128.042 106.656)" fill="none" stroke="#080808" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" /><path d="M1032.806,389h-15.8" transform="translate(152.991 8.5)" fill="none" stroke="#080808" stroke-linecap="round" stroke-width="2" /></g></g></g></svg></div>
            </div>
        </div>
    }
</div>