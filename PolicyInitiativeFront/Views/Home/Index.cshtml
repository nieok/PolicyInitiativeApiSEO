
@{
    ViewBag.Title = "The Policy Initiative";
    var controller = ViewContext.RouteData.Values["controller"].ToString().ToLower();
    var action = ViewContext.RouteData.Values["action"].ToString().ToLower();
    ViewBag.BodyAttributes = "class=homePage";
}

<h1 class="hiddenHeader">The Policy Initiative</h1>

<input hidden value="true" class="home"/>
<div class="Options">
    <div class="container">
        <ul class="items">
            <li><div class="filterBtn"><svg xmlns="http://www.w3.org/2000/svg" width="27" height="26" viewBox="0 0 26.334 25.981"><g transform="translate(-24.453 -157.5)"><path d="M0,0H24.834" transform="translate(25.203 161.021)" fill="none" stroke="#080808" stroke-linecap="round" stroke-width="1.5" /><line x2="24.834" transform="translate(25.203 170.26)" fill="#1a1818" stroke="#080808" stroke-linecap="round" stroke-miterlimit="10" stroke-width="1.5" /><line x2="24.834" transform="translate(25.203 179.98)" fill="#1a1818" stroke="#080808" stroke-linecap="round" stroke-miterlimit="10" stroke-width="1.5" /><ellipse cx="3.415" cy="3.415" rx="3.415" ry="3.415" transform="translate(32.532 158)" fill="#030303" stroke="rgba(0,0,0,0)" stroke-width="1" /><ellipse cx="3.415" cy="3.415" rx="3.415" ry="3.415" transform="translate(39.373 167.075)" fill="#030303" stroke="rgba(0,0,0,0)" stroke-width="1" /><ellipse cx="3.415" cy="3.415" rx="3.415" ry="3.415" transform="translate(30.949 176.151)" fill="#030303" stroke="rgba(0,0,0,0)" stroke-width="1" /></g></svg></div></li>
            <li><div class="searchBtn"><svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 25.961 25.966"><path d="M25.608,22.449l-5.056-5.056a1.216,1.216,0,0,0-.862-.355h-.827a10.543,10.543,0,1,0-1.826,1.826v.827a1.216,1.216,0,0,0,.355.862l5.056,5.056a1.212,1.212,0,0,0,1.719,0L25.6,24.173a1.223,1.223,0,0,0,.005-1.724ZM10.548,17.038a6.491,6.491,0,1,1,6.491-6.491A6.487,6.487,0,0,1,10.548,17.038Z" fill="#070606" /></svg></div></li>
            <li>
                <div class="mailboxBtn"><svg xmlns="http://www.w3.org/2000/svg" width="33" height="30" viewBox="0 0 32.75 29.75"><g transform="translate(-47.25 -297.25)"><g transform="translate(0 10)"><g transform="translate(3.268 -15.052)"><rect width="25" height="25" rx="0.5" transform="translate(44.732 303.052)" fill="none" stroke="#040405" stroke-width="1.5" /></g></g><g transform="translate(-91.847 111.179)"><circle cx="7.5" cy="7.5" r="7.5" transform="translate(156.847 200.821)" fill="#070708" /><path d="M168.47,209.377h-3.013v2.944h-2.234v-2.944h-3v-2.112h3v-2.944h2.234v2.944h3.013Z" fill="#fff" /></g></g></svg></div>
                @{Html.RenderPartial("newsletterPop");}
            </li>
        </ul>
    </div>
</div>


@if (ViewBag.featuredBanner.Count != 0)
{
    <div class="Slideshow">
        <div class="container">
            <div class="screen">
                <ul class="swiper-wrapper">
                    @foreach (var item in ViewBag.featuredBanner)
                    {
                        <li class="swiper-slide">
                            
                            <a class="item" href="@Url.Content(item.detailUrl)">
                                <div class="swiper-lazy-preloader"></div>
                                @if (!String.IsNullOrEmpty(item.imgSrc))
                                {
                                    <div class="pic">
                                        <img data-src="@Url.Content(item.imgSrc)" class="swiper-lazy" alt="@item.title"/>
                                    </div>
                                }

                                <div class="info">
                                    <div class="holder">
                                        @if (!String.IsNullOrEmpty(item.smallDescription))
                                        {
                                            <div class="caption">
                                               @Html.Raw(item.smallDescription)
                                            </div>
                                        }

                                        <div class="linkDiv">
                                            <div class="link">read more</div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </li>
                    }

                </ul>
                <div class="prev"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><g fill="none" stroke="#fafafa" stroke-width="1"><circle cx="24" cy="24" r="24" stroke="none" /><circle cx="24" cy="24" r="23.5" fill="none" /></g><g transform="translate(15 16.5)"><path d="M51.949,282.844l7.77,7.77-7.77,7.77" transform="translate(-41.959 -282.844)" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" /><path d="M1032.806,389h-15.8" transform="translate(-1017.009 -381)" fill="none" stroke="#fff" stroke-linecap="round" stroke-width="2" /></g></svg></div>
                <div class="next"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><g fill="none" stroke="#fafafa" stroke-width="1"><circle cx="24" cy="24" r="24" stroke="none" /><circle cx="24" cy="24" r="23.5" fill="none" /></g><g transform="translate(15 16.5)"><path d="M51.949,282.844l7.77,7.77-7.77,7.77" transform="translate(-41.959 -282.844)" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" /><path d="M1032.806,389h-15.8" transform="translate(-1017.009 -381)" fill="none" stroke="#fff" stroke-linecap="round" stroke-width="2" /></g></svg></div>
            </div>
        </div>
    </div>
}




<div class="itemsList">
    <!-- note add class "loadmore"  to itemsList -->
    <div class="container">
        <ul class="grid">

            @if (ViewBag.featured.Count != 0)
            {
                foreach (var item in ViewBag.featured)
                {
            <li class="grid-item">

                @if (!item.hasArabic)
                {
                <div class="item englishBox">
                    @if (!String.IsNullOrEmpty(item.imgSrc))
                    {
                        <div class="pic"><a href="@Url.Content(item.detailUrl)"><img src="@Url.Content(item.imgSrc)" alt="@item.title" /></a></div>

                    }
                    <div class="top">
                        @if (!String.IsNullOrEmpty(item.Date))
                        {
                            <div class="date">@item.Date</div>

                        }
                        <div class="arabic" onclick="arabic(event)">عربي</div>
                    </div>
                    <h2 class="title"><a href="@Url.Content(item.detailUrl)"> @item.title</a></h2>
                    @{ int comaCount = 0;}
                    @foreach (var auth in item.authors)
                    {
                       
                        <div class="author" ng-click="openAuthorPopup('@auth.title','@auth.bio')">@auth.title</div>
                       
                        comaCount++;
                        if (item.authors.Count > comaCount)
                        {
                            <text> ,</text>

                        }

                    }
                    <div class="text">
                        <a href="@Url.Content(item.detailUrl)">
                            @if (!String.IsNullOrEmpty(item.smallDescription))
                            {
                                <p>@Html.Raw(item.smallDescription)</p>
                            }<span class="read">read</span>

                        </a>

                    </div>
                </div>
                <div class="item arabicBox">
                    @if (!String.IsNullOrEmpty(item.imgSrc))
                    {
                        <div class="pic"><a href="@Url.Content(item.detailUrl+ "?lang=ar")"><img src="@Url.Content(item.imgSrc)" alt="@item.title" /></a></div>

                    }
                    <div class="top">
                        @if (!String.IsNullOrEmpty(item.Date))
                        {
                            <div class="date">@item.Date</div>

                        }
                        <div class="english" onclick="english(event)">eng</div>
                    </div>
                    <h2 class="title"><a href="@Url.Content(item.detailUrl+ "?lang=ar")"> @item.artitle</a></h2>
                    @{ int comaCount1 = 0;}
                    @foreach (var auth in item.arauthors)
                    {
                       
                     <div class="author" ng-click="openArabicAuthorPopup('@auth.title','@auth.bio')">@auth.title</div>
                       
                        comaCount1++;
                        if (item.arauthors.Count > comaCount1)
                        {
                            <text> ,</text>

                        }

                    }
                    <div class="text">
                        <a href="@Url.Content(item.detailUrl + "?lang=ar")">
                            @if (!String.IsNullOrEmpty(item.arsmallDescription))
                            {
                                <p>@Html.Raw(item.arsmallDescription)</p>}


                            <span class="read">اقرأ</span>
                        </a>

                    </div>
                </div>
                }
                else
                {
            <div class="item arabicBox">
                @if (!String.IsNullOrEmpty(item.imgSrc))
                {
                    <div class="pic"><a href="@Url.Content(item.detailUrl + "?lang=ar")"><img src="@Url.Content(item.imgSrc)" alt="@item.title" /></a></div>

                }
                <div class="top">
                    @if (!String.IsNullOrEmpty(item.Date))
                    {
                        <div class="date">@item.Date</div>

                    }
                </div>
                <h2 class="title"><a href="@Url.Content(item.detailUrl + "?lang=ar")"> @item.artitle</a></h2>
                @{ int comaCount1 = 0;}
                @foreach (var auth in item.arauthors)
                {
                  
                    <div class="author" ng-click="openArabicAuthorPopup('@auth.title','@auth.bio')">@auth.title</div>
                 
                    comaCount1++;
                    if (item.arauthors.Count > comaCount1)
                    {
                        <text> ,</text>

                    }

                }
                <div class="text">
                    <a href="@Url.Content(item.detailUrl + "?lang=ar")">
                        @if (!String.IsNullOrEmpty(item.arsmallDescription))
                        {
                            <p>@Html.Raw(item.arsmallDescription)</p>}

                        <span class="read">اقرأ</span>
                    </a>

                </div>
            </div>
                }


            </li>
                }

            }


        </ul>
    </div>
</div>






